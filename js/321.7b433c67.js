"use strict";(self["webpackChunkvue_find_coach_app"]=self["webpackChunkvue_find_coach_app"]||[]).push([[321,483],{9321:function(t,e,o){o.r(e),o.d(e,{default:function(){return g}});var i=o(3396),s=o(7139),a=o(9242);const n=t=>((0,i.dD)("data-v-6b6a48b2"),t=t(),(0,i.Cn)(),t),r={class:"form-control"},l=n((()=>(0,i._)("label",{for:"email"},"E-mail",-1))),d={class:"form-control"},u=n((()=>(0,i._)("label",{for:"password"},"Password",-1))),c={key:0};function m(t,e,o,n,m,h){const p=(0,i.up)("base-dialog"),w=(0,i.up)("base-spinner"),f=(0,i.up)("base-button"),g=(0,i.up)("base-card");return(0,i.wg)(),(0,i.iD)("div",null,[(0,i.Wm)(p,{show:!!m.error,title:"An error occurred",onClose:h.handleError},{default:(0,i.w5)((()=>[(0,i._)("p",null,(0,s.zw)(m.error),1)])),_:1},8,["show","onClose"]),(0,i.Wm)(p,{show:m.isLoading,title:"Authenticating...",fixed:""},{default:(0,i.w5)((()=>[(0,i.Wm)(w)])),_:1},8,["show"]),(0,i.Wm)(g,null,{default:(0,i.w5)((()=>[(0,i._)("form",{onSubmit:e[2]||(e[2]=(0,a.iM)(((...t)=>h.submitForm&&h.submitForm(...t)),["prevent"]))},[(0,i._)("div",r,[l,(0,i.wy)((0,i._)("input",{type:"email",id:"email","onUpdate:modelValue":e[0]||(e[0]=t=>m.email=t)},null,512),[[a.nr,m.email,void 0,{trim:!0}]])]),(0,i._)("div",d,[u,(0,i.wy)((0,i._)("input",{type:"password",id:"password","onUpdate:modelValue":e[1]||(e[1]=t=>m.password=t)},null,512),[[a.nr,m.password,void 0,{trim:!0}]])]),m.formIsValid?(0,i.kq)("",!0):((0,i.wg)(),(0,i.iD)("p",c," Please enter a valid email and password (must be at least 6 characters long). ")),(0,i.Wm)(f,null,{default:(0,i.w5)((()=>[(0,i.Uk)((0,s.zw)(h.submitButtonCaption),1)])),_:1}),(0,i.Wm)(f,{type:"button",mode:"flat",onClick:h.switchAuthMode},{default:(0,i.w5)((()=>[(0,i.Uk)((0,s.zw)(h.switchModeButtonCaption),1)])),_:1},8,["onClick"])],32)])),_:1})])}var h=o(1483),p={components:{BaseDialog:h["default"]},data(){return{email:"",password:"",formIsValid:!0,mode:"login",isLoading:!1,error:null}},computed:{submitButtonCaption(){return"login"===this.mode?"Login":"Signup"},switchModeButtonCaption(){return"login"===this.mode?"Signup instead":"Login instead"}},methods:{async submitForm(){if(this.formIsValid=!0,""===this.email||!this.email.includes("@")||this.password.length<6)return void(this.formIsValid=!1);this.isLoading=!0;const t={email:this.email,password:this.password};try{"login"===this.mode?await this.$store.dispatch("login",t):await this.$store.dispatch("signup",t);const e="/"+(this.$route.query.redirect||"coaches");this.$router.replace(e)}catch(e){this.error=e.message||"Failed to authenticate, try later. Check your login data"}this.isLoading=!1},switchAuthMode(){"login"===this.mode?this.mode="signup":this.mode="login"},handleError(){this.error=null}}},w=o(89);const f=(0,w.Z)(p,[["render",m],["__scopeId","data-v-6b6a48b2"]]);var g=f},1483:function(t,e,o){o.r(e),o.d(e,{default:function(){return m}});var i=o(3396),s=o(9242),a=o(7139);const n={key:0,open:""},r={key:0};function l(t,e,o,l,d,u){const c=(0,i.up)("base-button");return(0,i.wg)(),(0,i.j4)(i.lR,{to:"body"},[o.show?((0,i.wg)(),(0,i.iD)("div",{key:0,onClick:e[0]||(e[0]=(...t)=>u.tryClose&&u.tryClose(...t)),class:"backdrop"})):(0,i.kq)("",!0),(0,i.Wm)(s.uT,{name:"dialog"},{default:(0,i.w5)((()=>[o.show?((0,i.wg)(),(0,i.iD)("dialog",n,[(0,i._)("header",null,[(0,i.WI)(t.$slots,"header",{},(()=>[(0,i._)("h2",null,(0,a.zw)(o.title),1)]),!0)]),(0,i._)("section",null,[(0,i.WI)(t.$slots,"default",{},void 0,!0)]),o.fixed?(0,i.kq)("",!0):((0,i.wg)(),(0,i.iD)("menu",r,[(0,i.WI)(t.$slots,"actions",{},(()=>[(0,i.Wm)(c,{onClick:u.tryClose},{default:(0,i.w5)((()=>[(0,i.Uk)("Close")])),_:1},8,["onClick"])]),!0)]))])):(0,i.kq)("",!0)])),_:3})])}var d={props:{show:{type:Boolean,required:!0},title:{type:String,required:!1},fixed:{type:Boolean,required:!1,default:!1}},emits:["close"],methods:{tryClose(){this.fixed||this.$emit("close")}}},u=o(89);const c=(0,u.Z)(d,[["render",l],["__scopeId","data-v-5d7b1112"]]);var m=c}}]);
//# sourceMappingURL=321.7b433c67.js.map